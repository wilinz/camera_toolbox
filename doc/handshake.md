# **握手协议文档**

## **UUID 和特征**

### **UUID：**
`00010000-0000-1000-0000-d8492fffa821`

---

### **特征：**

#### **特征 1**
**UUID:** `00010005-0000-1000-0000-d8492fffa821`  
**特性值:** `0xf102`  
**描述:** 未知  
**读取返回:** `01`

**示例数据 (Raw Data):**
```
01
```

---

#### **特征 2**
**UUID:** `0001000a-0000-1000-0000-d8492fffa821`  
**特性值:** `0xf104`  
**描述:** 设备信息传输到相机，结束握手  
**写入:**
- `03 + 16 字节` — 设备 ID 类型，可能是随机的；不是必需的，但如果没有它，相机在关闭和打开后会忘记握手设备
- `04 + 一些字节` — 设备名称
- `05 + 一个字节` — 设备类型（差异尚不清楚）
  - `0501` — iOS
  - `0502` — 安卓
  - `0503` — Remocon（可能是 BR-E1，值来自 Canon BLE Intervalometer）  
    **写入:** `01` — 完成握手

**示例数据 (Raw Data):**
```
03 16 05 02 00 01
```

**解析:**
- **设备 ID 类型:** `03`（设备 ID 类型）
- **设备名称:** `16 05 02`（设备名称）
- **设备类型:** `00`（设备类型）
- **完成握手标志:** `01`（完成握手）

---

#### **特征 3**
**UUID:** `0001000b-0000-1000-0000-d8492fffa821`  
**特性值:** `0xf106`  
**描述:** 未知  
**读取返回:** `07000000`

**示例数据 (Raw Data):**
```
07 00 00 00
```

---

#### **特征 4**
**UUID:** `00010006-0000-1000-0000-d8492fffa821`  
**特性值:** `0xf108`  
**描述:** 开始握手  
**写入:**
- `01 + 一些字节` — 使用提供的设备名称开始握手（它将由相机在配对确认对话框中显示）
- `02` — 如果用户在确认对话框中按下“确定”，则通知
- `03` — 如果用户在确认对话框中按下“取消”，则通知

**示例数据 (Raw Data):**
```
02 01 03
```

**解析:**
- **确认状态:** `02`（如果用户按下“确定”）
- **设备类型:** `01`（设备类型）
- **握手完成:** `03`（确认握手完成）